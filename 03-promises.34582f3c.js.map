{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,SAEhCC,EAAUH,EAAOI,SAASC,MAC1BC,EAASN,EAAOI,SAASG,KACzBC,EAAoBR,EAAOI,SAASK,OACpCC,EAAQV,EAAOW,iBAiCrB,SAASC,EAAcC,EAAUR,GAC/B,OAAO,IAAIS,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAI,CAAEF,WAAUR,UAEhBW,EAAI,CAAEH,WAAUR,S,GAEjBA,E,IAxCPK,EAAMU,iBAAiB,SAEvB,SAAiBC,GACfA,EAAMC,iBACN,IAAMC,EAAgB,CACpBV,SAAU,KACVR,MAAOmB,OAAOrB,EAAQsB,QAElBC,EAAkBF,OAAOhB,EAAkBiB,OAC3ClB,EAAOiB,OAAOlB,EAAOmB,QAI7B,SAAoBE,EAAqBD,EAAiBnB,GAAtCoB,EAAEd,S,IAAUe,EAAZD,EAAYtB,MAC9BK,EAAMmB,aAAa,WAAY,QAC/B,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAiBI,GAAK,EAEzClB,EADWkB,EACaF,GACrBG,MAAK,SAAAC,G,IAAGnB,EAAQmB,EAARnB,SAAUR,EAAK2B,EAAL3B,MACjB4B,QAAQC,IAAI,uBAAwCC,OAAftB,EAAS,QAAYsB,OAAN9B,EAAM,M,IAE3D+B,OAAM,SAAAJ,G,IAAGnB,EAAQmB,EAARnB,SAAUR,EAAK2B,EAAL3B,MAClB4B,QAAQC,IAAI,sBAAqCC,OAAftB,EAAS,QAAYsB,OAAN9B,EAAM,M,IAE3DuB,GAASrB,EAEXU,YAAW,WACTP,EAAM2B,gBAAgB,W,GACrBT,E,CAlBHU,CAAWf,EAAeG,EAAiBnB,E","sources":["src/js/03-promises.js"],"sourcesContent":["const formEl = document.querySelector('.form');\n\nconst delayEl = formEl.elements.delay;\nconst stepEl = formEl.elements.step;\nconst amountOfPromiseEl = formEl.elements.amount;\nconst btnEl = formEl.lastElementChild;\n\nbtnEl.addEventListener('click', onStart);\n\nfunction onStart(event) {\n  event.preventDefault();\n  const objForPromise = {\n    position: null,\n    delay: Number(delayEl.value),\n  };\n  const amountOfPromise = Number(amountOfPromiseEl.value);\n  const step = Number(stepEl.value);\n  addPromise(objForPromise, amountOfPromise, step);\n}\n\nfunction addPromise({ position, delay }, amountOfPromise, step) {\n  btnEl.setAttribute('disabled', 'true');\n  for (let i = 1; i <= amountOfPromise; i += 1) {\n    position = i;\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    delay += step;\n  }\n  setTimeout(() => {\n    btnEl.removeAttribute('disabled');\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res({ position, delay });\n      } else {\n        rej({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$delayEl","elements","delay","$ce04d3a99e08e73b$var$stepEl","step","$ce04d3a99e08e73b$var$amountOfPromiseEl","amount","$ce04d3a99e08e73b$var$btnEl","lastElementChild","$ce04d3a99e08e73b$var$createPromise","position","Promise","res","rej","setTimeout","Math","random","addEventListener","event","preventDefault","objForPromise","Number","value","amountOfPromise","param1","delay1","setAttribute","i","then","param","console","log","concat","catch","removeAttribute","$ce04d3a99e08e73b$var$addPromise"],"version":3,"file":"03-promises.34582f3c.js.map"}